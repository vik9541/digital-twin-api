# üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: Personal Assistant Bot

**–ü—Ä–æ–µ–∫—Ç:** @astra_VIK_bot  
**–ê–≤—Ç–æ—Ä:** Viktor Lavrentev  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 14 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ Telegram-–±–æ—Ç–∞, —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **"–ï–¥–∏–Ω–æ–µ –æ–∫–Ω–æ"** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –æ–±—ã—á–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ, –±–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
| –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------------|------------|
| [vik9541/digital-twin-api](https://github.com/vik9541/digital-twin-api) | –ö–æ–¥ –±–æ—Ç–∞ |
| [vik9541/super-brain-digital-twin](https://github.com/vik9541/super-brain-digital-twin) | –¢–ó –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Python 3.11+** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **python-telegram-bot** ‚Äî Telegram API
- **Supabase** ‚Äî PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **GitHub Actions** ‚Äî CI/CD

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
bots/personal-assistant-bot/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ handlers/            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ unified.py       # –ï–¥–∏–Ω–æ–µ –æ–∫–Ω–æ (NLU)
‚îÇ   ‚îú‚îÄ‚îÄ contacts_handler.py
‚îÇ   ‚îú‚îÄ‚îÄ work_tracker_handler.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ services/            # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ intent_classifier.py  # –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–Ω—Ç–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ contacts_manager.py   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ github_sync.py        # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å GitHub
‚îÇ   ‚îú‚îÄ‚îÄ auto_sync.py          # –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ supabase_service.py   # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îú‚îÄ‚îÄ models/              # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ timezone.py      # –ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è
‚îú‚îÄ‚îÄ migrations/          # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ scripts/             # –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ deploy.py        # –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ check_migrations.py
‚îÇ   ‚îî‚îÄ‚îÄ setup_github.py
‚îú‚îÄ‚îÄ specs/               # –¢–ó (–∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞)
‚îú‚îÄ‚îÄ reports/             # –û—Ç—á—ë—Ç—ã (–∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
‚îî‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üîê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### GitHub Secrets
–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ: https://github.com/vik9541/digital-twin-api/settings/secrets/actions

| Secret | –û–ø–∏—Å–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|----------|--------|
| `TELEGRAM_BOT_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather | ‚úÖ |
| `TELEGRAM_ADMIN_ID` | Telegram ID –∞–¥–º–∏–Ω–∞ | ‚úÖ |
| `SUPABASE_URL` | URL –ø—Ä–æ–µ–∫—Ç–∞ Supabase | ‚úÖ |
| `SUPABASE_KEY` | Service Role Key | ‚úÖ |
| `SUPABASE_DB_PASSWORD` | –ü–∞—Ä–æ–ª—å PostgreSQL | ‚¨ú |

### –õ–æ–∫–∞–ª—å–Ω—ã–π .env
–§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
–°–º. `.env.example` –¥–ª—è —à–∞–±–ª–æ–Ω–∞.

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase)

**Dashboard:** https://supabase.com/dashboard/project/lvixtpatqrtuwhygtpjx

### –¢–∞–±–ª–∏—Ü—ã
| –¢–∞–±–ª–∏—Ü–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ú–∏–≥—Ä–∞—Ü–∏—è |
|---------|------------|----------|
| `users` | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | 001 |
| `projects` | –ü—Ä–æ–µ–∫—Ç—ã | 001 |
| `tasks` | –ó–∞–¥–∞—á–∏ | 001 |
| `user_tasks` | –°–≤—è–∑—å —é–∑–µ—Ä-–∑–∞–¥–∞—á–∞ | 001 |
| `health_entries` | –î–Ω–µ–≤–Ω–∏–∫ –∑–¥–æ—Ä–æ–≤—å—è | 001 |
| `receipts` | –ß–µ–∫–∏ | 001 |
| `project_files` | –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ | 001 |
| `user_preferences` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ | 001 |
| `contacts` | –ö–æ–Ω—Ç–∞–∫—Ç—ã | 004 |
| `contact_interactions` | –ò—Å—Ç–æ—Ä–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π | 005 |
| `work_logs` | –£—á—ë—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ | 005 |
| `conversation_context` | –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ | 005 |

---

## ü§ñ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞

### –ò–Ω—Ç–µ–Ω—Ç—ã (Intent Classifier)
```python
# –†–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
WORK_ARRIVAL      # "–ü—Ä–∏—à—ë–ª –Ω–∞ —Ä–∞–±–æ—Ç—É"
WORK_DEPARTURE    # "–£—à—ë–ª —Å —Ä–∞–±–æ—Ç—ã"
WORK_BREAK_START  # "–£—à—ë–ª –Ω–∞ –æ–±–µ–¥"
WORK_BREAK_END    # "–í–µ—Ä–Ω—É–ª—Å—è —Å –æ–±–µ–¥–∞"
WORK_STATUS       # "–°–∫–æ–ª—å–∫–æ –æ—Ç—Ä–∞–±–æ—Ç–∞–ª?"
WORK_REPORT       # "–û—Ç—á—ë—Ç –∑–∞ –Ω–µ–¥–µ–ª—é"

# –ö–æ–Ω—Ç–∞–∫—Ç—ã
CONTACT_ADD       # "–î–æ–±–∞–≤—å –∫–æ–Ω—Ç–∞–∫—Ç –ò–≤–∞–Ω 89991234567"
CONTACT_SEARCH    # "–ù–∞–π–¥–∏ –∫–æ–Ω—Ç–∞–∫—Ç –ò–≤–∞–Ω"
CONTACT_LIST      # "–ú–æ–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã"
CONTACT_DELETE    # "–£–¥–∞–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç"
CONTACT_INTERACTION # "–í—Å—Ç—Ä–µ—Ç–∏–ª—Å—è —Å –ò–≤–∞–Ω–æ–º"

# –ó–∞–¥–∞—á–∏
TASK_ADD          # "–î–æ–±–∞–≤—å –∑–∞–¥–∞—á—É: –∫—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ"
TASK_LIST         # "–ú–æ–∏ –∑–∞–¥–∞—á–∏"
TASK_COMPLETE     # "–í—ã–ø–æ–ª–Ω–∏–ª –∑–∞–¥–∞—á—É"
TASK_DELETE       # "–£–¥–∞–ª–∏ –∑–∞–¥–∞—á—É"

# –ó–¥–æ—Ä–æ–≤—å–µ
HEALTH_LOG        # "–°—ä–µ–ª —è–±–ª–æ–∫–æ", "–í—ã–∫—É—Ä–∏–ª —Å–∏–≥–∞—Ä–µ—Ç—É"
HEALTH_STATUS     # "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è"

# –ß–µ–∫–∏
RECEIPT_ADD       # –§–æ—Ç–æ —á–µ–∫–∞
RECEIPT_LIST      # "–ú–æ–∏ —á–µ–∫–∏"

# –û–±—â–µ–Ω–∏–µ
GREETING          # "–ü—Ä–∏–≤–µ—Ç"
THANKS            # "–°–ø–∞—Å–∏–±–æ"
HELP              # "–ß—Ç–æ —É–º–µ–µ—à—å?"
```

### –ö–æ–º–∞–Ω–¥—ã
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ |
| `/work` | –£—á—ë—Ç —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ |
| `/contact` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ |
| `/task` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ |
| `/health` | –î–Ω–µ–≤–Ω–∏–∫ –∑–¥–æ—Ä–æ–≤—å—è |
| `/receipt` | –ß–µ–∫–∏ |
| `/project` | –ü—Ä–æ–µ–∫—Ç—ã |
| `/export` | –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö |
| `/report` | –û—Ç—á—ë—Ç—ã |

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¢–ó –∏–∑ GitHub
3. ‚úÖ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (–∫–∞–∂–¥—ã–π —á–∞—Å)
1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ —Å GitHub
2. Git pull / push

### GitHub Actions
| –¢—Ä–∏–≥–≥–µ—Ä | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| Push –≤ main | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞, —Ç–µ—Å—Ç—ã |
| –ï–∂–µ–¥–Ω–µ–≤–Ω–æ 9:00 –ú–°–ö | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¢–ó |
| –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ | –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è |

---

## üìù –°–∫—Ä–∏–ø—Ç—ã

### –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π
```bash
python scripts/deploy.py "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
python scripts/check_migrations.py
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub
```bash
python scripts/setup_github.py
```

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
python main.py
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [x] Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Supabase –ø–æ–¥–∫–ª—é—á–µ–Ω
- [x] –ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è (UTC+3)
- [x] –ï–¥–∏–Ω–æ–µ –æ–∫–Ω–æ (NLU)

### –ú–æ–¥—É–ª–∏
- [x] Intent Classifier
- [x] Contacts Manager
- [x] Work Tracker
- [x] GitHub Sync
- [x] Auto Sync
- [x] Migration Runner

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- [x] –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å GitHub
- [x] GitHub Actions CI/CD
- [x] –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] .env.example —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- [x] –¢–ó –≤ specs/
- [x] GitHub Secrets –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

---

## üöÄ –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

1. **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** ‚Äî –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Microsoft 365** ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å, –ø–æ—á—Ç–∞
3. **OCR —á–µ–∫–æ–≤** ‚Äî Google Cloud Vision
4. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
5. **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** ‚Äî —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 14.12.2025*
